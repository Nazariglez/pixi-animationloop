{"version":3,"sources":["webpack:///build/pixi-animationloop.js","webpack:///webpack/bootstrap eaf88af295a79559d9da","webpack:///./src/AnimationLoop.js","webpack:///./src/index.js","webpack:///external \"PIXI\""],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","value","AnimationLoop","renderer","stage","arguments","undefined","PIXI","Container","this","_firstDate","speed","_last","delta","deltaMS","time","_lastTime","maxFrame","raf","_preRenderActions","_postRenderActions","window","requestAnimationFrame","_animate","bind","now","Date","Math","min","_preRender","render","_postRender","len","cancelAnimationFrame","fn","indexOf","push","index","splice","get","_interopRequireDefault","obj","__esModule","default","_pixi","_pixi2","_AnimationLoop","_AnimationLoop2"],"mappings":"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","file":"build/pixi-animationloop.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(2);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar AnimationLoop = (function () {\n\t  function AnimationLoop(renderer) {\n\t    var stage = arguments.length <= 1 || arguments[1] === undefined ? new PIXI.Container() : arguments[1];\n\t\n\t    _classCallCheck(this, AnimationLoop);\n\t\n\t    this.renderer = renderer;\n\t    this.stage = stage;\n\t\n\t    this._firstDate = 0;\n\t    this.speed = 1;\n\t    this._last = 0;\n\t    this.delta = 0;\n\t    this.deltaMS = 0;\n\t    this.time = 0;\n\t    this._lastTime = 0;\n\t    this.maxFrame = 0.035;\n\t\n\t    this.raf = null;\n\t\n\t    this._preRenderActions = [];\n\t    this._postRenderActions = [];\n\t  }\n\t\n\t  _createClass(AnimationLoop, [{\n\t    key: \"_animate\",\n\t    value: function _animate() {\n\t      this.raf = window.requestAnimationFrame(this._animate.bind(this));\n\t\n\t      if (this.stage) {\n\t        var now = Date.now();\n\t        this.time += Math.min((now - this._last) / 1000, this.maxFrame) * this.speed;\n\t        this.delta = this.time - this._lastTime;\n\t        this.deltaMS = this.delta * 1000;\n\t        this._lastTime = this.time;\n\t        this._last = now;\n\t\n\t        this._preRender();\n\t        this.renderer.render(this.stage);\n\t        this._postRender();\n\t      }\n\t    }\n\t  }, {\n\t    key: \"_preRender\",\n\t    value: function _preRender() {\n\t      var len = this._preRenderActions.length;\n\t      for (var i = 0; i < len; i++) {\n\t        this._preRenderActions[i](this.delta, this);\n\t      }\n\t    }\n\t  }, {\n\t    key: \"_postRender\",\n\t    value: function _postRender() {\n\t      var len = this._postRenderActions.length;\n\t      for (var i = 0; i < len; i++) {\n\t        this._postRenderActions[i](this.delta, this);\n\t      }\n\t    }\n\t  }, {\n\t    key: \"start\",\n\t    value: function start() {\n\t      var now = Date.now();\n\t      this._last = now;\n\t      if (this._firstDate === 0) this._firstDate = now;\n\t      this._animate();\n\t    }\n\t  }, {\n\t    key: \"stop\",\n\t    value: function stop() {\n\t      if (this.raf) window.cancelAnimationFrame(this.raf);\n\t    }\n\t  }, {\n\t    key: \"addPreRenderAction\",\n\t    value: function addPreRenderAction(fn) {\n\t      if (this._preRenderActions.indexOf(fn) === -1) {\n\t        this._preRenderActions.push(fn);\n\t      }\n\t    }\n\t  }, {\n\t    key: \"removePreRenderAction\",\n\t    value: function removePreRenderAction(fn) {\n\t      var index = this._postRenderActions.indexOf(fn);\n\t      if (index !== -1) {\n\t        this._postRenderActions.splice(index, 1);\n\t      }\n\t    }\n\t  }, {\n\t    key: \"realTime\",\n\t    get: function get() {\n\t      return this._firstDate > 0 ? (Date.now() - this._firstDate) / 1000 : 0;\n\t    }\n\t  }]);\n\t\n\t  return AnimationLoop;\n\t})();\n\t\n\texports.default = AnimationLoop;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _pixi = __webpack_require__(3);\n\t\n\tvar _pixi2 = _interopRequireDefault(_pixi);\n\t\n\tvar _AnimationLoop = __webpack_require__(1);\n\t\n\tvar _AnimationLoop2 = _interopRequireDefault(_AnimationLoop);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tif (!_pixi2.default.AnimationLoop) _pixi2.default.AnimationLoop = _AnimationLoop2.default;\n\texports.default = _pixi2.default.AnimationLoop;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = PIXI;\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** build/pixi-animationloop.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap eaf88af295a79559d9da\n **/","\"use strict\";\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AnimationLoop = (function () {\n  function AnimationLoop(renderer) {\n    var stage = arguments.length <= 1 || arguments[1] === undefined ? new PIXI.Container() : arguments[1];\n\n    _classCallCheck(this, AnimationLoop);\n\n    this.renderer = renderer;\n    this.stage = stage;\n\n    this._firstDate = 0;\n    this.speed = 1;\n    this._last = 0;\n    this.delta = 0;\n    this.deltaMS = 0;\n    this.time = 0;\n    this._lastTime = 0;\n    this.maxFrame = 0.035;\n\n    this.raf = null;\n\n    this._preRenderActions = [];\n    this._postRenderActions = [];\n  }\n\n  _createClass(AnimationLoop, [{\n    key: \"_animate\",\n    value: function _animate() {\n      this.raf = window.requestAnimationFrame(this._animate.bind(this));\n\n      if (this.stage) {\n        var now = Date.now();\n        this.time += Math.min((now - this._last) / 1000, this.maxFrame) * this.speed;\n        this.delta = this.time - this._lastTime;\n        this.deltaMS = this.delta * 1000;\n        this._lastTime = this.time;\n        this._last = now;\n\n        this._preRender();\n        this.renderer.render(this.stage);\n        this._postRender();\n      }\n    }\n  }, {\n    key: \"_preRender\",\n    value: function _preRender() {\n      var len = this._preRenderActions.length;\n      for (var i = 0; i < len; i++) {\n        this._preRenderActions[i](this.delta, this);\n      }\n    }\n  }, {\n    key: \"_postRender\",\n    value: function _postRender() {\n      var len = this._postRenderActions.length;\n      for (var i = 0; i < len; i++) {\n        this._postRenderActions[i](this.delta, this);\n      }\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      var now = Date.now();\n      this._last = now;\n      if (this._firstDate === 0) this._firstDate = now;\n      this._animate();\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      if (this.raf) window.cancelAnimationFrame(this.raf);\n    }\n  }, {\n    key: \"addPreRenderAction\",\n    value: function addPreRenderAction(fn) {\n      if (this._preRenderActions.indexOf(fn) === -1) {\n        this._preRenderActions.push(fn);\n      }\n    }\n  }, {\n    key: \"removePreRenderAction\",\n    value: function removePreRenderAction(fn) {\n      var index = this._postRenderActions.indexOf(fn);\n      if (index !== -1) {\n        this._postRenderActions.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"realTime\",\n    get: function get() {\n      return this._firstDate > 0 ? (Date.now() - this._firstDate) / 1000 : 0;\n    }\n  }]);\n\n  return AnimationLoop;\n})();\n\nexports.default = AnimationLoop;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/AnimationLoop.js\n ** module id = 1\n ** module chunks = 0\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _pixi = require('pixi.js');\n\nvar _pixi2 = _interopRequireDefault(_pixi);\n\nvar _AnimationLoop = require('./AnimationLoop');\n\nvar _AnimationLoop2 = _interopRequireDefault(_AnimationLoop);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nif (!_pixi2.default.AnimationLoop) _pixi2.default.AnimationLoop = _AnimationLoop2.default;\nexports.default = _pixi2.default.AnimationLoop;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.js\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = PIXI;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"PIXI\"\n ** module id = 3\n ** module chunks = 0\n **/"],"sourceRoot":""}