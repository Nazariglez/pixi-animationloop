{"version":3,"sources":["webpack:///build/pixi-animationloop.js","webpack:///webpack/bootstrap 6bf65dd44f2dd7182c5d","webpack:///external \"PIXI\"","webpack:///./src/AnimationLoop.js","webpack:///./src/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","PIXI","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","_pixi","_pixi2","AnimationLoop","_PIXI$utils$EventEmit","renderer","stage","arguments","undefined","Container","this","_this","getPrototypeOf","isRunning","_firstDate","speed","_last","delta","deltaMS","time","_lastTime","maxFrame","raf","window","requestAnimationFrame","_animate","bind","now","Date","Math","min","emit","render","cancelAnimationFrame","get","utils","EventEmitter","_AnimationLoop","_AnimationLoop2"],"mappings":"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","file":"build/pixi-animationloop.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(3);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = PIXI;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _pixi = __webpack_require__(1);\n\t\n\tvar _pixi2 = _interopRequireDefault(_pixi);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar AnimationLoop = (function (_PIXI$utils$EventEmit) {\n\t  _inherits(AnimationLoop, _PIXI$utils$EventEmit);\n\t\n\t  function AnimationLoop(renderer) {\n\t    var stage = arguments.length <= 1 || arguments[1] === undefined ? new _pixi2.default.Container() : arguments[1];\n\t\n\t    _classCallCheck(this, AnimationLoop);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(AnimationLoop).call(this));\n\t\n\t    _this.renderer = renderer;\n\t    _this.stage = stage;\n\t\n\t    _this.isRunning = false;\n\t\n\t    _this._firstDate = 0;\n\t    _this.speed = 1;\n\t    _this._last = 0;\n\t    _this.delta = 0;\n\t    _this.deltaMS = 0;\n\t    _this.time = 0;\n\t    _this._lastTime = 0;\n\t    _this.maxFrame = 0.035;\n\t\n\t    _this.raf = null;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(AnimationLoop, [{\n\t    key: '_animate',\n\t    value: function _animate() {\n\t      this.raf = window.requestAnimationFrame(this._animate.bind(this));\n\t\n\t      if (this.stage) {\n\t        var now = Date.now();\n\t        this.time += Math.min((now - this._last) / 1000, this.maxFrame) * this.speed;\n\t        this.delta = this.time - this._lastTime;\n\t        this.deltaMS = this.delta * 1000;\n\t        this._lastTime = this.time;\n\t        this._last = now;\n\t\n\t        this.emit('prerender', this);\n\t        this.renderer.render(this.stage);\n\t        this.emit('postrender', this);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'start',\n\t    value: function start() {\n\t      if (!this.isRunning) {\n\t        this.isRunning = true;\n\t        var now = Date.now();\n\t        this._last = now;\n\t        if (this._firstDate === 0) this._firstDate = now;\n\t        this.emit('start', this);\n\t        this._animate();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'stop',\n\t    value: function stop() {\n\t      if (this.isRunning) {\n\t        this.isRunning = false;\n\t        window.cancelAnimationFrame(this.raf);\n\t        this.emit('stop', this);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'realTime',\n\t    get: function get() {\n\t      return this._firstDate > 0 ? (Date.now() - this._firstDate) / 1000 : 0;\n\t    }\n\t  }]);\n\t\n\t  return AnimationLoop;\n\t})(_pixi2.default.utils.EventEmitter);\n\t\n\texports.default = AnimationLoop;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _pixi = __webpack_require__(1);\n\t\n\tvar _pixi2 = _interopRequireDefault(_pixi);\n\t\n\tvar _AnimationLoop = __webpack_require__(2);\n\t\n\tvar _AnimationLoop2 = _interopRequireDefault(_AnimationLoop);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tif (!_pixi2.default.AnimationLoop) _pixi2.default.AnimationLoop = _AnimationLoop2.default;\n\texports.default = _pixi2.default.AnimationLoop;\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** build/pixi-animationloop.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 6bf65dd44f2dd7182c5d\n **/","module.exports = PIXI;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"PIXI\"\n ** module id = 1\n ** module chunks = 0\n **/","'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _pixi = require('pixi.js');\n\nvar _pixi2 = _interopRequireDefault(_pixi);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar AnimationLoop = (function (_PIXI$utils$EventEmit) {\n  _inherits(AnimationLoop, _PIXI$utils$EventEmit);\n\n  function AnimationLoop(renderer) {\n    var stage = arguments.length <= 1 || arguments[1] === undefined ? new _pixi2.default.Container() : arguments[1];\n\n    _classCallCheck(this, AnimationLoop);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(AnimationLoop).call(this));\n\n    _this.renderer = renderer;\n    _this.stage = stage;\n\n    _this.isRunning = false;\n\n    _this._firstDate = 0;\n    _this.speed = 1;\n    _this._last = 0;\n    _this.delta = 0;\n    _this.deltaMS = 0;\n    _this.time = 0;\n    _this._lastTime = 0;\n    _this.maxFrame = 0.035;\n\n    _this.raf = null;\n    return _this;\n  }\n\n  _createClass(AnimationLoop, [{\n    key: '_animate',\n    value: function _animate() {\n      this.raf = window.requestAnimationFrame(this._animate.bind(this));\n\n      if (this.stage) {\n        var now = Date.now();\n        this.time += Math.min((now - this._last) / 1000, this.maxFrame) * this.speed;\n        this.delta = this.time - this._lastTime;\n        this.deltaMS = this.delta * 1000;\n        this._lastTime = this.time;\n        this._last = now;\n\n        this.emit('prerender', this);\n        this.renderer.render(this.stage);\n        this.emit('postrender', this);\n      }\n    }\n  }, {\n    key: 'start',\n    value: function start() {\n      if (!this.isRunning) {\n        this.isRunning = true;\n        var now = Date.now();\n        this._last = now;\n        if (this._firstDate === 0) this._firstDate = now;\n        this.emit('start', this);\n        this._animate();\n      }\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      if (this.isRunning) {\n        this.isRunning = false;\n        window.cancelAnimationFrame(this.raf);\n        this.emit('stop', this);\n      }\n    }\n  }, {\n    key: 'realTime',\n    get: function get() {\n      return this._firstDate > 0 ? (Date.now() - this._firstDate) / 1000 : 0;\n    }\n  }]);\n\n  return AnimationLoop;\n})(_pixi2.default.utils.EventEmitter);\n\nexports.default = AnimationLoop;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/AnimationLoop.js\n ** module id = 2\n ** module chunks = 0\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _pixi = require('pixi.js');\n\nvar _pixi2 = _interopRequireDefault(_pixi);\n\nvar _AnimationLoop = require('./AnimationLoop');\n\nvar _AnimationLoop2 = _interopRequireDefault(_AnimationLoop);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nif (!_pixi2.default.AnimationLoop) _pixi2.default.AnimationLoop = _AnimationLoop2.default;\nexports.default = _pixi2.default.AnimationLoop;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.js\n ** module id = 3\n ** module chunks = 0\n **/"],"sourceRoot":""}